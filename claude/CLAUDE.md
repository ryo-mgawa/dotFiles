# Claude Code設定

## 言語設定
受け答えは必ず日本語で行ってください。

## 基本方針
- 簡潔で直接的な回答を心がける
- 不要な前置きや説明は避ける
- ユーザーの質問に対して的確に答える
- コード生成時は既存のコードスタイルに従う

## 開発時の注意事項
- 新しいファイルの作成は最小限に留める
- 既存ファイルの編集を優先する
- セキュリティベストプラクティスに従う
- コメントは要求された場合のみ追加する

## ツール活用（必須）
- Agent Teams: 並列処理や複雑なタスクではsubagentよりもAgent Teamsを優先して使用する
- subagent: 結果だけが必要な単純なタスクや、Agent Teamsが使えない場合のフォールバック
- skills: 利用可能なスキルがあれば優先的に使用する
- MCP: MCPサーバーのツールを最大限活用する

## 効率化・自動化
- 同じようなタスクが2回以上発生したら `skill-creator` でスキル化を提案する
- 繰り返し使う情報はメモリ（`~/.claude/projects/*/memory/`）に保存する

## 品質管理
- コード変更後は関連するテストを自動実行する
- PRやコミット作成時は `review` スキルでセルフレビューを行う

## 探索・調査
- 大規模なコードベース調査には `Explore` サブエージェントを使用する
- 複数の独立したタスクは並列でサブエージェントを起動する

## コミュニケーション
- 不明点は推測せず必ず確認する
- 複数のアプローチがある場合は選択肢を提示する

## コンテキスト管理（重要）
- `/clear`をタスク間で頻繁に使用する
- 2回修正しても改善しない場合は`/clear`して最初からやり直す
- 調査タスクにはサブエージェントを使い、メインコンテキストを汚さない

## 検証
- 自己検証できる形で指示する（テスト実行、スクリーンショット比較、期待出力の提示）
- 検証できないものは出荷しない

## 計画と実装の分離
- 大きなタスクは Plan Mode で探索 → 計画 → 実装 → コミットの流れ
- 小さなタスク（1文で説明できるdiff）は計画をスキップ

## Writer/Reviewer パターン
- コードを書いたら、別セッションまたはサブエージェントでレビュー
- 自分が書いたコードへのバイアスを避ける

## 避けるべきパターン
- 無関係なタスクを同一セッションで混ぜない
- CLAUDE.mdを長くしすぎない（重要な指示が埋もれる）
- スコープを絞らない調査（無限に探索してコンテキストを消費）