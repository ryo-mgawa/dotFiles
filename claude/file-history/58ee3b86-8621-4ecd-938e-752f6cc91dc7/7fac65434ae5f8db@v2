import type { OperatingSchedule, OperatingScheduleException } from '@/entities/index.js';

export interface IScheduleRepository {
  findByCompanyId(companyId: string): Promise<OperatingSchedule[]>;
  findByCompanyIdAndDayOfWeek(companyId: string, dayOfWeek: number): Promise<OperatingSchedule | null>;
  findExceptionByDate(companyId: string, date: Date): Promise<OperatingScheduleException | null>;
  findExceptionsByCompanyId(companyId: string): Promise<OperatingScheduleException[]>;
  upsertSchedule(companyId: string, dayOfWeek: number, data: {
    startTime: Date | null;
    endTime: Date | null;
    isEnabled: boolean;
  }): Promise<OperatingSchedule>;
  createException(data: {
    companyId: string;
    exceptionDate: Date;
    exceptionType: string;
    startTime?: Date | null;
    endTime?: Date | null;
    description?: string | null;
  }): Promise<OperatingScheduleException>;
  deleteException(id: string): Promise<void>;
}
