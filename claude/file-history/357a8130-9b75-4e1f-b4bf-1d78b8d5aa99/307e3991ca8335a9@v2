import { ProviderIdentity } from '@app/rdb';
import { ShipmentInsert } from '@app/rdb/db/model';
import { Inject, Injectable } from '@nestjs/common';
import { Knex } from 'knex';

@Injectable()
export class ShipmentDAO {
  constructor(@Inject(ProviderIdentity) private rdb: Knex) { }

  public async save(shipments: ShipmentInsert[]): Promise<void> {
    if (shipments.length === 0) {
      return;
    }

    await this.rdb('shipment').insert(shipments);
  }
}
