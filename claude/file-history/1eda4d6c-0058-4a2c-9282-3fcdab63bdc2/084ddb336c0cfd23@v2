# Inter-siteMonitor

Zoom Video SDK を使用した拠点間ビデオ通話Webアプリケーション。

## 機能

- マルチテナント対応（会社 → 拠点 → ユーザー）
- 拠点トークンによるデバイス認証
- 4K縦向きディスプレイ対応レイアウト
- 稼働時間スケジュール管理
- キーボードショートカット操作

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| フロントエンド | React 18, TypeScript, Vite, React Router 6 |
| バックエンド | Node.js, Express, TypeScript |
| データベース | PostgreSQL (Supabase) |
| ORM | Prisma |
| ビデオ通話 | Zoom Video SDK v2.3.5 |
| テスト | Vitest, Testing Library |

## セットアップ

### 必要環境

- Node.js 20+
- PostgreSQL (またはSupabase)
- Zoom Video SDK アカウント

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/your-org/Inter-siteMonitor.git
cd Inter-siteMonitor

# 依存関係をインストール
cd front && npm install
cd ../server && npm install
```

### 環境変数

```bash
# フロントエンド
cp front/.env.example front/.env

# バックエンド
cp server/.env.example server/.env
```

**server/.env** に以下を設定：
- `DATABASE_URL`: PostgreSQL接続文字列
- `JWT_SECRET`: JWT署名用シークレット
- `ZOOM_SDK_KEY`, `ZOOM_SDK_SECRET`: Zoom Video SDK認証情報

### データベース

```bash
cd server
npm run db:generate   # Prisma Client生成
npm run db:migrate    # マイグレーション実行
npm run db:seed       # シードデータ投入
```

## 開発

```bash
# バックエンド（別ターミナル）
cd server && npm run dev

# フロントエンド（別ターミナル）
cd front && npm run dev
```

- フロントエンド: http://localhost:5173
- バックエンド API: http://localhost:3001/api

## テスト

```bash
# 全テスト実行
cd front && npm run test
cd server && npm run test

# 単一ファイル
cd front && npx vitest run src/path/to/file.test.tsx
```

## ディレクトリ構成

```
├── front/                # フロントエンド（React）
│   └── src/
│       ├── app/          # アプリ設定
│       ├── pages/        # ページコンポーネント
│       ├── features/     # 機能モジュール
│       ├── entities/     # ドメイン型定義
│       └── shared/       # 共通コンポーネント
│
├── server/               # バックエンド（Express）
│   ├── src/
│   │   ├── app/          # サーバー設定
│   │   ├── features/     # 機能モジュール
│   │   ├── entities/     # ドメインエンティティ
│   │   ├── infrastructure/  # リポジトリ
│   │   └── shared/       # 共通ミドルウェア
│   └── prisma/           # スキーマ・マイグレーション
│
└── CLAUDE.md             # Claude Code ガイド
```

## ライセンス

Private
