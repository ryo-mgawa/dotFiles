import { Inject, Injectable } from '@nestjs/common';
<<<<<<< HEAD:server/apps/shipment/src/application/useCase/addShipmentsUseCase.ts
import { ShipmentRepository } from '../../data/repository/shipmentRepository';
import { AddShipmentsPresenterInterface } from '../../interface/presenter/addShipmentsPresenterInterface';
import { Input } from '../types/addShipmentsTypes';
=======
import { ShipmentRepository } from '../../../data/repository/shipmentRepository';
import { AddShipmentsPresenterInterface } from '../../../interface/presenter/addShipmentsPresenterInterface';
import { ShipmentCreator } from '../../service/creator/shipmentCreator';
import { Input } from './types';
>>>>>>> feature/#2921_shipment-add-api-application-layer:server/apps/shipment/src/application/useCase/addShipmentsUseCase/addShipmentsUseCase.ts

@Injectable()
export class AddShipmentsUseCase {
  constructor(
    @Inject('AddShipmentsPresenter')
    private readonly presenter: AddShipmentsPresenterInterface,
    private readonly shipmentCreator: ShipmentCreator,
    private readonly shipmentRepository: ShipmentRepository,
  ) { }

  public async execute(input: Input, organizationId: string): Promise<void> {
    const shipmentInserts = this.shipmentCreator.execute(organizationId, input.shipments);
    const shipmentIds = await this.shipmentRepository.save(shipmentInserts);

    this.presenter.output(shipmentIds);
  }
}
